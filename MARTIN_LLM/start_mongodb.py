# -*- coding: utf-8 -*-import subprocessimport sysimport osfrom pathlib import Path# Configuraci贸n directa para evitar problemas con .envDB_PATH = str(Path(__file__).parent / 'data' / 'db')def is_admin():    try:        # Solo funciona en Windows        return os.getuid() == 0    except AttributeError:        import ctypes        return ctypes.windll.shell32.IsUserAnAdmin() != 0def start_mongodb():    """Inicia MongoDB con la configuraci贸n personalizada"""    if not is_admin():        print("Este script necesita permisos de administrador")        print("Por favor, ejecuta PowerShell como administrador")        sys.exit(1)    try:        # Asegurar que el directorio existe        db_path = Path(DB_PATH)        db_path.mkdir(parents=True, exist_ok=True)        print(f"Directorio de datos: {db_path.absolute()}")                # Intentar detener cualquier instancia previa        try:            subprocess.run(['taskkill', '/F', '/IM', 'mongod.exe'],                          capture_output=True)            print("MongoDB detenido")        except:            print("No se encontr贸 ninguna instancia de MongoDB corriendo")        # Construir el comando        cmd = [            'mongod',            '--dbpath', str(db_path),            '--port', '27017'        ]                print("\nIniciando MongoDB...")        print(f"Comando: {' '.join(cmd)}")                # Ejecutar MongoDB        process = subprocess.Popen(            cmd,            stdout=subprocess.PIPE,            stderr=subprocess.PIPE,            text=True  # Usar codificaci贸n por defecto del sistema        )                print("\nEsperando a que MongoDB inicie...")                # Mostrar salida en tiempo real        while True:            output = process.stdout.readline()            if output:                print(output.strip())            if process.poll() is not None:                break                except Exception as e:        print(f"Error al iniciar MongoDB: {e}")        sys.exit(1)if __name__ == "__main__":    print("=== Iniciando MongoDB ===")    start_mongodb()